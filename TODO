remove disconnected players

move socket handler to own class

implement spectator mode
